<!--components/singleChoice/singleChoice.wxml-->
<view class="quiz">
    <view class="selection">
      <view class="contentOpt" bind:tap="goToContent">
        <text class="quizHeader">内容</text>
        <view class="bar {{mode == 'Content' && 'mode_active'}}"></view> 
      </view>
      <view class="contentOpt" bind:tap="goToTest">
        <text class="quizHeader">测试</text>
        <view class="bar {{mode == 'Quiz' && 'mode_active'}}"></view> 
      </view>
    </view>

    <view class="ContentContainer">
      <view class="ContentChunk"  wx:if="{{mode == 'Content'}}">
        <view class="ContentTitle">第一部分 5:35</view>
        <view class="ContentDetails">
          <text class="ContentDetail">如何面对负面情绪带来的影响</text>
          <text class="ContentDetail">如何面对负面情绪带来的影响</text>
          <text class="ContentDetail">如何面对负面情绪带来的影响</text>
          <text class="ContentDetail">如何面对负面情绪带来的影响</text>
        </view>
      </view>

      <view class="quizContent" wx:if="{{mode == 'Quiz'}}">
        <view class="questionBox" wx:if="{{!submitStatus || ReportStatus}}">
          <text class="quizIndicator">第{{currentQuestion+1}}题</text>
          <text class="quizQuestion">{{questions[currentQuestion][0]}}</text>
        </view>

        <view class="quizOptions">
          <view class="leftArea">
            <image class="prevButton" src="../../images/next-enable.png" wx:if="{{(!submitStatus &&  currentQuestion > 0) || (ReportStatus && currentQuestion > 0)}}" bind:tap="goToPrevQuestion"></image>
          </view>
        
          <view class="optionContent" wx:if="{{!submitStatus}}">
            <view class="optionContainer">
              <view class="optionDetail {{finishStatus[currentQuestion] === '0' && 'option_active'}}" bind:tap="pickOption" data-option-id="0">
                <text class="option">选项A</text>
                <image class="checkMark" src="../../images/check.png" wx:if="{{finishStatus[currentQuestion] == '0'}}"></image>
              </view> 

              <view class="optionDetail {{finishStatus[currentQuestion] == '1' && 'option_active'}}" bind:tap="pickOption" data-option-id="1">
                <text class="option">选项B</text>
                <image class="checkMark" src="../../images/check.png" wx:if="{{finishStatus[currentQuestion] == '1'}}"></image>
              </view> 

              <view class="optionDetail {{finishStatus[currentQuestion] == '2' && 'option_active'}}" bind:tap="pickOption" data-option-id="2">
                <text class="option">选项C</text>
                <image class="checkMark" src="../../images/check.png" wx:if="{{finishStatus[currentQuestion] == '2'}}"></image>
              </view> 

              <view class="optionDetail {{finishStatus[currentQuestion] == '3' && 'option_active'}}" bind:tap="pickOption" data-option-id="3">
                <text class="option">选项D</text>
                <image class="checkMark" src="../../images/check.png" wx:if="{{finishStatus[currentQuestion] == '3'}}"></image>
              </view> 
            </view>
          </view> 

          <view class="optionContent" wx:if="{{ReportStatus}}">
            <view class="optionContainer">
              <view class="optionDetail {{finishStatus[currentQuestion] === '0' && rightAnswer[currentQuestion] !== '0' && 'wrongAnswer'}} {{rightAnswer[currentQuestion] === '0' && 'correctAnswer'}}" data-option-id="0">
                <text class="option">选项A</text>
                <image class="checkMark" src="../../images/check-green.png" wx:if="{{rightAnswer[currentQuestion] === '0' && 'correctAnswer'}}"></image>

                <image class="checkMark" src="../../images/cross-red.png" wx:if="{{finishStatus[currentQuestion] === '0' && rightAnswer[currentQuestion] !== '0' && 'wrongAnswer'}}"></image>
              </view> 

              <view class="optionDetail {{rightAnswer[currentQuestion] === '1' && 'correctAnswer'}} {{finishStatus[currentQuestion] === '1' && rightAnswer[currentQuestion] !== '1' && 'wrongAnswer'}}" data-option-id="1">
                <text class="option">选项B</text>
                <image class="checkMark" src="../../images/check-green.png" wx:if="{{rightAnswer[currentQuestion] === '1' && 'correctAnswer'}}"></image>
                <image class="checkMark" src="../../images/cross-red.png" wx:if="{{finishStatus[currentQuestion] === '1' && rightAnswer[currentQuestion] !== '1' && 'wrongAnswer'}}"></image>
              </view> 

              <view class="optionDetail  {{rightAnswer[currentQuestion] === '2' && 'correctAnswer'}} {{finishStatus[currentQuestion] === '2' && rightAnswer[currentQuestion] !== '2' && 'wrongAnswer'}}" data-option-id="2">
                <text class="option">选项C</text>
                <image class="checkMark" src="../../images/check-green.png" wx:if="{{rightAnswer[currentQuestion] === '2' && 'correctAnswer'}}"></image>
                <image class="checkMark" src="../../images/cross-red.png" wx:if="{{finishStatus[currentQuestion] === '2' && rightAnswer[currentQuestion] !== '2' && 'wrongAnswer'}}"></image>
              </view> 

              <view class="optionDetail  {{rightAnswer[currentQuestion] === '3' && 'correctAnswer'}} {{finishStatus[currentQuestion] === '3' && rightAnswer[currentQuestion] !== '3' && 'wrongAnswer'}}" data-option-id="3">
                <text class="option">选项D</text>
                <image class="checkMark" src="../../images/check-green.png" wx:if="{{rightAnswer[currentQuestion] === '3' && 'correctAnswer'}}"></image>
                <image class="checkMark" src="../../images/cross-red.png" wx:if="{{finishStatus[currentQuestion] === '3' && rightAnswer[currentQuestion] !== '3' && 'wrongAnswer'}}"></image>
              </view> 
            </view>
          </view> 

          <view class="rightArea">
            <image class="nextButton" src="../../images/next-enable.png" bind:tap="goToNextQuestion" wx:if="{{(!submitStatus && currentQuestion < questions.length - 1) || (ReportStatus && currentQuestion < questions.length - 1)}}"></image>
          </view>
        </view>
      </view>


      <view class="noticeBox" wx:if="{{mode === 'Quiz' &&  !ReportStatus && submitStatus}}">
        <image class="quizfinshimg" src="cloud://cloud1-2gjzvf7qc03c5783.636c-cloud1-2gjzvf7qc03c5783-1306062016/images/podcast/podquiz-finish.png"></image>
        <text class="completeNotice">恭喜您答对了7/8题</text>
        <text class="completeNotice">请再接再厉!</text>
      </view>
      <view class="submitBox" wx:if="{{mode === 'Quiz' && !ReportStatus}}">
        <view class="submit {{!completeStatus && !submitStatus && 'buttonDisabled'}}" wx:if="{{!submitStatus}}" bind:tap="submit">提交</view>

        <view class="submit" wx:if="{{submitStatus}}" bind:tap="checkReport">查看结果</view>
      </view>

    </view>

  </view>
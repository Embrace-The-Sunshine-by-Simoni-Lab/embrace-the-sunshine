<!--components/singleChoice/singleChoice.wxml-->
<view class="quiz">
  <!-- ****** select mode on top ****** -->
  <view class="selection">
    <view class="contentOpt" bind:tap="goToOption" data-mode="Content">
      <text class="quizHeader">内容</text>
      <view class="bar {{mode == 'Content' && 'mode_active'}}"></view> 
    </view>

    <view class="contentOpt" bind:tap="goToOption" data-mode="Quiz">
      <text wx:if="{{podCastInfo.episode !== '冥想'}}" class="quizHeader">测试</text>
      <text wx:else class="quizHeader">反馈</text>
      <view class="bar {{mode == 'Quiz' && 'mode_active'}}"></view> 
    </view>
  </view>

  <!-- ****** PodCast Content ****** -->
  <view class="ContentContainer" wx-if="{{mode == 'Content'}}">
    <view wx:if="{{podCastInfo.episode !== '冥想'}}" class="first_level" wx:for-item="first_item" wx:for-index="idx" wx:for="{{podCastInfo.pod_Cast_Content}}" wx:key="idx">
      {{first_item.firstLevel}} {{first_item.time}}
      <view class="second_level" wx:for-item="item2" wx:for-index="idx" wx:for="{{first_item.firstLevel_content}}" wx:key="idx">
        {{item2.second_title}} {{item2.time}}
        <view class="third_level" wx:for-item="item3" wx:for-index="idx" wx:for="{{item2.second_title_content}}" wx:key="idx">
          • {{item3.third_title}}
        </view>
      </view>
    </view>
  </view>

  <!-- ****** PodCast Quiz的内容 ****** -->
  <view class="QuizContainer" wx-if="{{mode == 'Quiz'}}">
   <view class="QuizContainer_inner">
    <view wx:for="{{podCastInfo.pod_Cast_Quiz}}" wx:key="order" wx:if="{{index === currentDisplayQuestion}}" class="QuestionBlock">
      <text class="QuestionOrder">{{item.order}}</text>
      <text class="QuestionContent">{{item.question}}</text>
    </view>
     
    <view class="AnswerBlock">
      <view wx:for="{{podCastInfo.pod_Cast_Quiz}}" wx:key="order">
      <view wx:if="{{index === currentDisplayQuestion}}">
        <!-- 单选题 -->
        <view wx:if="{{item.type === '单选题'}}">
          <SingleChoice reportPageClicked="{{reportPageClicked}}" option_info="{{item}}" bind:clickOption="clickOption" order="{{index}}" user_answer="{{user_answer}}"></SingleChoice>
        </view>
        <!-- 多选题 -->
        <view wx:elif="{{item.type === '多选题'}}">
          <MultipleChoice reportPageClicked="{{reportPageClicked}}" option_info="{{item}}" bind:clickOption="clickOption" order="{{index}}" user_answer="{{user_answer}}"></MultipleChoice>
        </view>
        <!-- 开放式问答 -->
        <view wx:else>
          <!-- 如果还未提交那么就是一个可输入框, 否则就是一个固定的方框 -->
          <view wx:if="{{reportPageClicked}}" class="open_ended_box">
            {{open_ended_answer}}
          </view>
          <view wx:else class="open_ended_box">
            <textarea class="open_ended_question" name="userName" placeholder="{{podCastInfo.episode === '冥想' ? '填写您的对于本集冥想的反馈' : '填写您的想法'}}" value="{{open_ended_answer}}"
  bindinput="userNameInput" auto-focus="true"/>
            <view wx:if="{{podCastInfo.episode === '冥想'}}" class="meditation_submit" bind:tap="submitQuiz">提交</view>
          </view>
      
        </view>
      </view>
    </view>

    </view>

    <view class="SubmitBlock" wx-if="{{mode == 'Quiz' && podCastInfo.episode !== '冥想'}}">
      <image class="prev_question" src="../../images/next-enable.png"  data-direction="prev" bind:tap="changeQuestion"></image>
      <view wx:if="{{allQuestionAnswered && !reportPageClicked}}" class="Submit_Button" bind:tap="submitQuiz">提交</view>
      <view wx:else class="Disabled_Button">提交</view>
      <image class="next_question" src="../../images/next-enable.png" data-direction="next" bind:tap="changeQuestion"></image>
    </view>
   </view>
 </view>
</view>


  <!-- <view class="fill-bottom-gap-box"></view> -->
  <!-- <view class="SubmitBlock" wx-if="{{mode == 'Quiz' && podCastInfo.episode !== '冥想'}}">
    <image class="prev_question" src="../../images/next-enable.png"  data-direction="prev" bind:tap="changeQuestion"></image>

    <view wx:if="{{allQuestionAnswered && !reportPageClicked}}" class="Submit_Button" bind:tap="submitQuiz">提交</view>
    <view wx:else class="Disabled_Button">提交</view>
    <image class="next_question" src="../../images/next-enable.png" data-direction="next" bind:tap="changeQuestion"></image>
  </view> -->


 <!-- <view wx:if="{{podCastInfo.episode === '冥想'}}" class="podcast_meditation_content_container">
      <image class="podcast_meditation_img" src="cloud://cloud1-2gjzvf7qc03c5783.636c-cloud1-2gjzvf7qc03c5783-1306062016/images/podcast/Module1-Page1 Illustration3.png"></image>
      <view class="podcast_meditation_text" >请跟着录音,</view>
      <view class="podcast_meditation_text" >一起进入冥想状态</view>
    </view> -->
